<link rel="stylesheet" href="https://instructure-uploads-eu.s3.eu-west-1.amazonaws.com/account_167640000000000001/attachments/852203/mobile.min.css"><div id="kl_custom_css">&nbsp;</div>
<div id="kl_wrapper_3" class="kl_flat_sections kl_wrapper mps-page-content">
<div id="kl_banner" class="kl_border_radius_20 mps-banner-div">
<h2 class="mps-banner-h2">Module 11: Hands-On Practical Exercise (HOPE): Session 4</h2>
</div>
<div id="kl_banner_image"><img id="62515" class="kl_border_radius_20" src="https://nulondon.instructure.com/courses/2778/files/802194/download?verifier=ZObkZbVZgDFz47mh6nmsNoFa1G3gw05QSHE3V9Bi" alt="SQL-Introducing-Advanced-Features.jpg" data-api-returntype="File" data-api-endpoint="https://nulondon.instructure.com/api/v1/courses/2778/files/802194"></div>
<div id="kl_custom_block_0" class="" style="background-color: #ffffff; color: #000000; padding-top: 20px; padding-right: 0px; padding-left: 0px;">
<p class="kl_module_progress_icons" style="background-color: #3c5b72; color: #ffffff; border-color: #ffffff;">Icon Progress Bar/Navigation (built in browser, hidden in app)</p>
</div>
<h3 class="kl_border_radius_50 mps-page-title"><i class="fas fa-info" style="background-color: #3c5b72; color: #ffffff;" aria-hidden="true"><span class="dp-icon-content" style="display: none;">&nbsp;</span></i>Hands-On Practical Exercise (HOPE): Session 4</h3>
<p>&nbsp;</p>
<p class="kl_border_radius_20 mps-page-subtitle"><img id="64863" src="https://nulondon.instructure.com/courses/2778/files/802192/download?verifier=r0nl6V1B4bxwzRVI2NMmvaWZJWy6MUPxN4EnpE1M" alt="icons_expression.png" data-api-endpoint="https://nulondon.instructure.com/api/v1/courses/2778/files/802192" data-api-returntype="File"> <span style="font-size: 14pt;"><strong>Type</strong>: <span style="text-decoration: underline;">Challenge-Based Learning</span></span></p>
<p><strong>Description: </strong></p>
<p>The current US-based client your supervisor has assigned you to (“<strong>Just Lee Books</strong>”) have requested some more in depth information and manipulations that will involve subqueries, views, and triggers.</p>
<p>Pleased with your improving aptitude to SQL coding and database management, your supervisor has suggested you tackle the tasks in three stages.</p>
<p>You have also been advised that you may need to employ previous SQL commands such as for joining tables, row functions, and so on.</p>
<p>You can use <strong>Oracle Live SQL</strong> for the three stages.</p>
<ul>
<li>When you log in, go to<span>&nbsp;</span><strong>My Scripts</strong><span>&nbsp;</span>and select the<span>&nbsp;</span><strong>JLDB_HOPE</strong><span>&nbsp;</span>script that was previously used.</li>
<li><strong>Re-run</strong><span>&nbsp;</span>it so that the tables can be regenerated.
<ul>
<li>Wait about 30 seconds and then click on<span>&nbsp;</span><strong>Schema</strong><span>&nbsp;</span>to check the tables are all present.</li>
<li>If not, wait a few more seconds, then click<span>&nbsp;</span><strong>Schema</strong><span>&nbsp;</span>again.</li>
</ul>
</li>
<li>Once all tables are present, click on<span>&nbsp;</span><strong>SQL Worksheet</strong><span>&nbsp;</span>and begin coding.
<ul>
<li><strong>If</strong><span>&nbsp;</span>you want to continue with the same database schema following the activities in "<strong>HOPE Session 1</strong>", and "<strong>HOPE Session 3</strong>" you can go to<span>&nbsp;</span><strong>My Session<span>&nbsp;</span><span class="math_equation_latex fade-in-equation"><span id="MathJax-Element-1-Frame" class="MathJax" style="display: inline; font-style: normal; line-height: normal; font-size: 16px; text-indent: 0px; text-align: left; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; position: relative;" role="presentation" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo stretchy=&quot;false&quot;>&amp;#x27F6;</mo></math>"><span id="MathJax-Span-1" class="math"><span><span id="MathJax-Span-2" class="mrow"><span id="MathJax-Span-3" class="mo">⟶</span></span></span></span><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">⟶</mo></math></span></span></span><span>&nbsp;</span>Previous Sessions</strong>, and rerun the actual session(s).</li>
</ul>
</li>
<li>If your session gets ‘timed out’, just refresh the page, and repeat the process for re-running the<span>&nbsp;</span><strong>JLDB_HOPE</strong><span>&nbsp;</span>script.&nbsp;</li>
</ul>
<div id="kl_custom_block_1" class="kl_border_radius_20" style="background-color: #ffffff; color: #000000;">
<p class="kl_border_radius_20" style="margin-left: 40px; margin-right: 40px; background-color: #fbe5b8; padding: 20px; text-align: center;"><strong><span style="color: #e03e2d;"><span style="color: #000000;"><em>Please allow 40 to 60 minutes to complete both stages before you move on to the solutions below. <br><br>You will not need to upload your attempts. However, you can choose to save your SQL queries in a separate text file or as screenshots if you want to keep a record of your attempts.</em></span> </span> </strong></p>
</div>
<p class="kl_border_radius_20 mps-page-subtitle"><img id="67350" src="https://nulondon.instructure.com/courses/2778/files/802022/preview?verifier=cC6ICjWre1EHCvCBkzm2cb2xEGnrwqrEcfa3N2dx" alt="icon_task_list.png" data-api-endpoint="https://nulondon.instructure.com/api/v1/courses/2778/files/802022" data-api-returntype="File">Stage 1: Subqueries</p>
<ul>
<li><strong><span style="color: #236fa1;">S1-1</span>. List the title and retail price of all books with a retail price greater than or equal to the average retail price.</strong></li>
<li><strong><span style="color: #236fa1;">S1-2.</span> List the customers who placed an order for the most expensive book. Include the title and the price of the book in your output</strong>.</li>
</ul>
<p>&nbsp;</p>
<p class="kl_border_radius_20 mps-page-subtitle"><img id="67350" src="https://nulondon.instructure.com/courses/2778/files/802022/preview?verifier=cC6ICjWre1EHCvCBkzm2cb2xEGnrwqrEcfa3N2dx" alt="icon_task_list.png" data-api-endpoint="https://nulondon.instructure.com/api/v1/courses/2778/files/802022" data-api-returntype="File">Stage 2: Views</p>
<ul>
<li><strong><span style="color: #236fa1;">S2-1.</span> Create a view called Pending that lists all of the order data for orders that have not yet been shipped out.</strong></li>
<li><strong><span style="color: #236fa1;">S2-2</span>. Create a view called OrderDetails that contains the <em>Order#</em>, <em>Customer#</em>, and <em>OrderDate</em> from the Orders table combined with the <em>ISBN</em> and <em>Quantity</em> from the OrderItems table</strong>.</li>
</ul>
<p>&nbsp;</p>
<p class="kl_border_radius_20 mps-page-subtitle"><img id="67350" src="https://nulondon.instructure.com/courses/2778/files/802022/preview?verifier=cC6ICjWre1EHCvCBkzm2cb2xEGnrwqrEcfa3N2dx" alt="icon_task_list.png" data-api-endpoint="https://nulondon.instructure.com/api/v1/courses/2778/files/802022" data-api-returntype="File">Stage 3: Triggers</p>
<ul>
<li><strong><span style="color: #236fa1;">S3-1.</span> Create a trigger that will record the update of a customer in the Customers table. For example, if the first name of a customer is changed, the record containing the original first name must be stored in the UpdatedCustomers table</strong>.
<ul>
<li>Create therefore an <strong>UpdatedCustomers</strong> table <strong><em>first</em></strong> before creating the trigger and performing the update!</li>
</ul>
</li>
</ul>
<p>&nbsp;</p>
<p class="kl_border_radius_20" style="margin-left: 40px; margin-right: 40px; background-color: #fbe5b8; padding: 20px; margin-bottom: 30px;"><span style="color: #e03e2d;"><img id="61358" style="padding-right: 0px; margin-right: 5px;" src="https://nulondon.instructure.com/courses/2778/files/802016/download?verifier=QcwbGvHiIzK8ifzqynQ75tSXbGNYWPJkAqVxHZm5" alt="icon_pdf.png" data-api-endpoint="https://nulondon.instructure.com/api/v1/courses/2778/files/802016" data-api-returntype="File"> <a class="instructure_file_link instructure_scribd_file" title="DDM1_M5_HOPE Session 4 Answers.pdf" href="https://nulondon.instructure.com/courses/2778/files/802381?verifier=UlJO3vlr7In7zRUKhwNvyOXd6g5SUz9SJk0mOSV4&amp;wrap=1" target="_blank" data-api-endpoint="https://nulondon.instructure.com/api/v1/courses/2778/files/802381" data-api-returntype="File"><span style="color: #3598db;">Download the <strong>PDF file</strong></span></a>&nbsp;</span><strong></strong>to obtain the solution for this exercise.</p>
</div><script src="https://instructure-uploads-eu.s3.eu-west-1.amazonaws.com/account_167640000000000001/attachments/849352/mobile.min.js"></script>